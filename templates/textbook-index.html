{% extends "base.html" %} {% block content %} {% set icon = section.extra.icon %}
<meta property="og:title" content="{{ section.title }} - {{ config.extra.default_title }}" />
<link rel="stylesheet" href="{{ get_url(path='blog-index.min.css') }}" />
<title>Textbook - {{ config.extra.default_title }}</title>
<h1 class="title">{{ section.title }}</h1>
<p class="subheading">
    {{ section.description }}
</p>
<style>

.blog-card p:has(.title) {
    margin: 0.2em;
}

div.blog-card {
    padding:0.2em;
}

.truncate {
    margin: :0.2em;
    margin-top:1px !important;
}

</style>
<ul id="list-of-posts">

    {% for page in section.pages | filter(attribute="draft", value=false) %}
    {%
    if page.extra.icon %} {% set icon = page.extra.icon %} {% endif %} {% if page.description %} {%
    set description = page.description | markdown(inline=true) %} {% set blurb = page.content |
    striptags | truncate(length=360) %} {% else %} {% set description = "" %} {%
    set blurb = page.content | striptags | truncate(length=360) %} {% endif %}

    <div
        class="blog-card flex"
        onclick="location.href='{{ page.permalink | safe }}';"
        onmouseenter=""
    >
        <div class="blog-icon">{{ icon }}</div>
        <div class="blog-details">
        <p class="">
            <span class="title">{{ page.title }}</span
            ><br />
        <div class="description">
                <p class="truncate" style="-webkit-line-clamp:2 !important;">{% if page.authors %}<b>by {{ page.authors[0] | safe }} </b>{% endif %}{{ blurb }}
                <span class="read-on-container"><i class="read-on">read more ‚áù</i></span></p></div
            >
        </p>
        </div>
    </div>
    <hr class="card-hr" />
    {% endfor %}
</ul>
{% endblock content %}

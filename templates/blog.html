{% extends "base.html" %} {% block content %}
<title>MB - Blog</title>
<style>
    .blog-card {
        padding: 0.3em;
        margin: 0.7em;
        border: 2px dashed transparent;
        border-radius: 1em;
        background: var(--b);
        display: grid;
        max-width: 600pt;
        align-items: center; /* Vertically aligns items */
    }

    .blog-card:hover {
        cursor: pointer;
        filter: brightness(1.3);
        border: 2px solid var(--a) !important;
    }

    .blog-card p {
        margin: 0.5em;
    }

    p span {
        vertical-align: middle;
    }

    hr.card-hr {
        border: 1px dashed var(--a);
        height: 0;
        margin: 0em 0;
        opacity: 0.5;
    }

    .title {
        margin: 0.1em;
        font-weight: bold;
        font-size: 1.2em;
    }

    .date {
        font-size: 0.8em;
        font-family: monospace;
        opacity: 0.8;
        padding-right: 1em;
        min-width: 12em;
        overflow: hidden;
        text-align: center;
    }

    .description {
        font-size: 0.9em;
    }
</style>
<script>
    function convertDate(element) {
        const dateStr = element.textContent.trim();
        const date = new Date(dateStr);
        const options = { day: "2-digit", month: "short", year: "2-digit" };
        const formattedDate = date.toLocaleDateString("en-GB", options);
        element.textContent = formattedDate;
    }
    document.addEventListener("DOMContentLoaded", function () {
        const dateElements = document.querySelectorAll(".date");
        dateElements.forEach((element) => {
            console.log("loaded date");
            convertDate(element);
        });
    });
</script>
<h1 class="title">The Blog</h1>
<p class="subheading">
    Thoughts on technology, education and what happens when they collide.
</p>
<ul>
    {% for page in section.pages %} {% if not page.draft %}

    {% if page.extra.icon %}
    {% set icon = page.extra.icon %}
    {% else %}
    {% set icon = "ðŸ“ƒ" %}
    {% endif %}

    <div
        class="blog-card"
        onclick="location.href='{{ page.permalink | safe }}';"
    >
        <p>
            <!-- &#x2712; -->
            <span class="date">{{ page.date }} </span>
            <span class="title">{{ icon }}&nbsp;&nbsp;{{ page.title }}</span><br />
            <span class="description"> {{ page.description }}</span>
        </p>
    </div>
    <hr class="card-hr" />

    {% endif %} {% endfor %}
</ul>
{% endblock content %}

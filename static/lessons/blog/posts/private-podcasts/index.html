<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>üìª Turning radio into podcasts | MXB</title>
<meta name=keywords content><meta name=description content="Making a private radio podcast for fun and (definitely no) profit
An exercise in pettiness, podcasts and programming


A boy needs his bongs
I love the BBC. But I do not love BBC Sounds.
It is clunky, it lacks automatic downloads, and it has an unbearable habit of advertising the podcast you are listening to during said podcast, with a bonus reminder that you can listen to the podcast on the app you are currently using."><meta name=author content="Max Bruges"><link rel=canonical href=https://blogs.mxb.fyi/posts/private-podcasts/><link crossorigin=anonymous href=/assets/css/stylesheet.856bdc9f4ebc5fa4bd027c58b6652ebf100ec50eac5a82ef05b1df0e57bf7bc3.css integrity="sha256-hWvcn068X6S9AnxYtmUuvxAOxQ6sWoLvBbHfDle/e8M=" rel="preload stylesheet" as=style><link rel=icon href=https://blogs.mxb.fyi/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blogs.mxb.fyi/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blogs.mxb.fyi/favicon-32x32.png><meta name=theme-color content="#2e2e33"><link rel=alternate hreflang=en href=https://blogs.mxb.fyi/posts/private-podcasts/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="üìª Turning radio into podcasts"><meta property="og:description" content="Making a private radio podcast for fun and (definitely no) profit
An exercise in pettiness, podcasts and programming


A boy needs his bongs
I love the BBC. But I do not love BBC Sounds.
It is clunky, it lacks automatic downloads, and it has an unbearable habit of advertising the podcast you are listening to during said podcast, with a bonus reminder that you can listen to the podcast on the app you are currently using."><meta property="og:type" content="article"><meta property="og:url" content="https://blogs.mxb.fyi/posts/private-podcasts/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-09-28T00:00:00+00:00"><meta property="article:modified_time" content="2024-09-28T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="üìª Turning radio into podcasts"><meta name=twitter:description content="Making a private radio podcast for fun and (definitely no) profit
An exercise in pettiness, podcasts and programming


A boy needs his bongs
I love the BBC. But I do not love BBC Sounds.
It is clunky, it lacks automatic downloads, and it has an unbearable habit of advertising the podcast you are listening to during said podcast, with a bonus reminder that you can listen to the podcast on the app you are currently using."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blogs.mxb.fyi/posts/"},{"@type":"ListItem","position":2,"name":"üìª Turning radio into podcasts","item":"https://blogs.mxb.fyi/posts/private-podcasts/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"üìª Turning radio into podcasts","name":"üìª Turning radio into podcasts","description":"Making a private radio podcast for fun and (definitely no) profit An exercise in pettiness, podcasts and programming\nA boy needs his bongs\nI love the BBC. But I do not love BBC Sounds.\nIt is clunky, it lacks automatic downloads, and it has an unbearable habit of advertising the podcast you are listening to during said podcast, with a bonus reminder that you can listen to the podcast on the app you are currently using.\n","keywords":[],"wordCount":"830","inLanguage":"en","datePublished":"2024-09-28T00:00:00Z","dateModified":"2024-09-28T00:00:00Z","author":{"@type":"Person","name":"Max Bruges"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blogs.mxb.fyi/posts/private-podcasts/"},"publisher":{"@type":"Organization","name":"MXB","logo":{"@type":"ImageObject","url":"https://blogs.mxb.fyi/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blogs.mxb.fyi/ accesskey=h title="MXB (Alt + H)">MXB</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://learn.maxbruges.com/ title=learn><span>learn</span>&nbsp;</a></li><li><a href=https://maxbruges.com/experiments title=experiments><span>experiments</span>&nbsp;</a></li><li><a href=https://mxb.fyi/list title=lessons><span>lessons</span>&nbsp;</a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">üìª Turning radio into podcasts</h1><div class=post-meta><span title='2024-09-28 00:00:00 +0000 UTC'>September 28, 2024</span>&nbsp;¬∑&nbsp;4 min&nbsp;¬∑&nbsp;Max Bruges</div></header><div class=post-content><h1 id=making-a-private-radio-podcast-for-fun-and-definitely-no-profit>Making a private radio podcast for fun and (definitely no) profit<a hidden class=anchor aria-hidden=true href=#making-a-private-radio-podcast-for-fun-and-definitely-no-profit>#</a></h1><p><em>An exercise in pettiness, podcasts and programming</em></p><p><img loading=lazy src=https://i.ytimg.com/vi/ZY_cmEdbqvQ/maxresdefault.jpg alt="Big Ben mid-bong">
<em>A boy needs his bongs</em></p><p>I love the BBC. But I do not love <a href=https://www.bbc.co.uk/sounds>BBC Sounds</a>.</p><p>It is clunky, it lacks automatic downloads, and it has an unbearable habit of advertising the podcast you are listening to <em>during said podcast</em>, with a bonus reminder that you can listen to the podcast <em>on the app you are currently using</em>.</p><p>As more and more BBC programmes vanish from open podcast platforms and into Sounds, the app feels increasingly like an attempt to build a content silo that is utterly unbecoming of a national broadcaster.</p><p>And yet: a licence-fee-payer has got to get his <a href=https://en.wikipedia.org/wiki/Greenwich_Time_Signal>pips</a>. But how?</p><p>Time to make our <em>own</em> Six O&rsquo;Clock News Podcast, with auto-downloads, FM-quality bongs and <em>no Sounds announcements</em>.</p><h2 id=crossing-the-streams>Crossing the streams<a hidden class=anchor aria-hidden=true href=#crossing-the-streams>#</a></h2><p>Back in the heady days of internet radio, Auntie gifted the world high-quality audio streams of all BBC radio stations. Sadly, these have started to disappear, though a few diehards still maintain lists of the working streams.</p><p>I won&rsquo;t post the streams here, but if you&rsquo;re interested I would recommend visiting the <a href=https://gist.github.com/bpsib/67089b959e4fa898af69fea59ad74bc3>Github</a> and trying your luck.</p><blockquote><p><a href=warning></a>These streams - and the steps discussed here - are strictly for <strong>personal use</strong>. As much as I find BBC Sounds objectionable and irritating, pirating BBC content is Not OK.</p></blockquote><h2 id=m3u8-to-m4a><code>.m3u8</code> to <code>.m4a</code><a hidden class=anchor aria-hidden=true href=#m3u8-to-m4a>#</a></h2><p>Now we have our stream, we need to capture it.</p><p>There are a few bespoke programs in the repos for capturing streams, but we&rsquo;re going to stick with the trusty workhorse of <code>FFMPEG</code>, for simplicity&rsquo;s sake (it&rsquo;s a quick <code>apt-get</code>, or <code>brew install</code> <a href=https://formulae.brew.sh/formula/ffmpeg>for Mac</a>).</p><p>We pipe our stream in to <code>FFMPEG</code>, specify an output file, and it&rsquo;ll record away.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ ffmpeg -i https://a.bbc.stream/live/radio4.m3u8 6-oclock-news.mp3
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Opening <span style=color:#e6db74>&#39;http://a.bbc.stream/live/radio4.m3u8&#39;</span> <span style=color:#66d9ef>for</span> reading
</span></span><span style=display:flex><span>size<span style=color:#f92672>=</span>     256kB time<span style=color:#f92672>=</span>00:00:25.64 bitrate<span style=color:#f92672>=</span>  81.8kbits/s speed<span style=color:#f92672>=</span>1.99x  
</span></span></code></pre></div><p>Great! But I don&rsquo;t particularly want an endless MP3 file of Radio 4, or I may accidentally listen to <em>Moneybox</em>.</p><p>So, we set a flag to limit the recording to 30 minutes. While we&rsquo;re at it, we&rsquo;ll also set a bitrate - without this, we can easily end up with a file size into the hundred of MBs - and switch to our preferred format of <code>.m4a</code>, using <code>-c:a aac</code>. A bitrate of <code>128k</code> is more than sufficient for our purposes.</p><p>Our command now looks like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ ffmpeg -i https://a.bbc.stream/live/radio4.m3u8 -t 00:30:00 -c:a aac -b:a 128k 6-oclock-news.m4a
</span></span></code></pre></div><p>But a strange thing happens if you set this to run: after about 7 to 8 minutes, the recording will stop. With much painful debugging (<code>-loglevel</code> is your friend), the answer appears: the encoder is catching up with the end of the stream. When it does, it stops, satisfied with a job well done.</p><p>So, we need to add a couple more flags to let <code>FFMPEG</code> know that this is a <em>live</em> stream, and to keep going until our timer is up: <code>-re</code>. We can also add <code>-itsoffset</code> to give some breathing room between the encoding and the stream, as well as a <code>-reconnect</code> and an expanded buffer just to be safe. Our final command, then, is:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ffmpeg -itsoffset <span style=color:#ae81ff>5</span> -re -reconnect <span style=color:#ae81ff>1</span> -i https://a.bbc.stream/live/radio4.m3u8 -t 00:30:00 -c:a aac -b:a 128k -rtbufsize 20M 6-oclock-news.m4a
</span></span></code></pre></div><p>Save the command down into a handy script - something like <code>get-news.sh</code> - then set a cronjob to run it at 6pm every day: <code>0 18 * * * bash get-news.sh</code>. Obviously, you&rsquo;ll need your computer to be switched on for the duration of the recording. FFMPEG is light enough that it can easily run on a Pi: as good an excuse as any to dig it out from the drawer.</p><blockquote><p><a href=important></a>The streams tend to have a delay of 20-30 secs on them, so it&rsquo;s worth adding in a <code>sleep 15</code> at beginning of the script to account for this.</p></blockquote><h2 id=serving-the-podcast>Serving the podcast<a hidden class=anchor aria-hidden=true href=#serving-the-podcast>#</a></h2><blockquote><p><a href=tip-aside></a>Syncthing is super-easy to set up. <a href=https://docs.syncthing.net/intro/getting-started.html>Give it a go!</a></p></blockquote><p>As a quick and dirty way to get the files onto a phone for listening, Syncthing works perfectly; set it up to watch the folder containing the podcast audio files, and make sure Syncthing on the device is set up to receive them.</p><p>My preferred listening app is <a href=https://antennapod.org/>AntennaPod</a>: open-source and very snappy. For our purposes, it also has an easy method for adding local files: tap <code>Add podcast</code> then <code>Add local folder</code> to select the Syncthing folder containing the audio files. As soon as the files appear in the folder, they&rsquo;ll populate into your Episode feed (with the added bonus of being listenable offline).</p><p><img loading=lazy src=https://mxb.fyi/static/personalpods.webp alt=pods></p><p>And <em>voila</em>: your own, FM-standard, <em>Sounds</em>-free <strong>6 O&rsquo;Clock News</strong>, with auto-downloads, immediately after broadcast. Just as Lord Reith intended.</p><blockquote><p>&ldquo;&mldr;in view of the widespread interest which is taken by Our People in
services which provide audio and visual material by means of broadcasting, the internet or the use of newer technologies, and of the great value of such services as means of disseminating information, education and entertainment&mldr;&rdquo;</p><blockquote><p><a href=http://downloads.bbc.co.uk/bbctrust/assets/files/pdf/about/how_we_govern/2016/charter.pdf>Royal Charter for the BBC</a>, 2016</p></blockquote></blockquote></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><p><a href=https://maxbruges.com/about rel=nofollow>MB</a> üêà‚Äç‚¨õ 2024</p></footer><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>
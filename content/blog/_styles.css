/* _styles.css */

/* A lot of these settings have been found by trial and error. Some defaults are marked !important,
whilst others won't render from MD at all (most inline HTML is stripped away on conversion). The basics
are all here - a,p,h,pre etc. - but tags like <caption> don't survive the conversion.

The MD->HTML renderer/parser used by pico.sh is GOLDMARK. It has a lot in common with Jekyll, so if in doubt
one can always try to use Jekyll docs to crack a problem. */


:root {
    --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen,
    Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial,
    sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    --font-size: 14pt;
    --font-size-small:0.8em;
    --border-radius:10px;
    list-style-type: "✒ ";
    /*--font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, "Ubuntu", Cantarell, "Helvetica Neue", sans-serif;*/
}

@media (prefers-color-scheme: light){
:root {
    --color-bg: #fffceb;
    --color-text: #000;
    --color-text-secondary: #626262;
    --color-accent: #043898;
    
}}

@media (prefers-color-scheme: dark) {
    :root{
    --color-bg:#16243d; 
    --color-text:#eef5ff;
    --color-text-secondary: #8e8e8e;
    --color-accent: #8cb2f9;
    }
}

@media screen and (max-width:650px) {
    :root{
    --font-size:12pt;
}
}

/* implementing custom background and font (set at :root) */
html, body, #post, #blog{
    height: 100%;
    background: var(--color-bg);
    font-size: var(--font-size);
    color: var(--color-text);
    font-family: var(--font-family);
 }


 h1, h2, h3 {
    color: var(--color-text) !important;
    font-family: 'Courier New', Courier, monospace;
}

 /* bumping up the font size on the landing page*/
#blog{
    font-size: 1.2rem;
    font-family: 'Courier New', Courier, monospace;
}
body#blog{
  max-width:850px;
}
/*centering the list of blogs a little more*/
#blog main{
    margin-left: 5%;
    margin-right: 5%;
}

/*adjusting the <time> marker on the blog list*/
#blog time {
    min-width: 9rem;
}
#blog time::after{
    content: " ☛ ";
}

#blog article:hover {
  filter:brightness(130%);
  background-color:var(--color-bg;)
}
/* Hiding the Pico.sh footer and file title */
footer {
    font-size: 1px;
    max-height: 1px;
    overflow-x: hidden;
}
#post header h1{
    font-size: 1px;
    max-height: 1px;
    overflow-x: hidden;
    visibility: hidden;
}

/* tweaking link style */
a {
    color:var(--color-accent);
    font-weight: bold;
    text-decoration: underline dotted;
}

/* tweaking codeblock style */
pre {
    border:3px solid black;
    font-size: 0.9em;
    border-radius: var(--border-radius);
    margin-left: 1.2em;
    margin-right: 1.2em;
 }

 /* custom footer*/
#post-footer {
    display:block; 
    margin-left:auto; 
    margin-right:auto;
    text-align: center;
    font-size:var(--font-size-small);
    color: var(--color-text-secondary) !important;
    font-family: monospace;
    text-decoration: none !important;
}

#post-footer a {
    text-decoration: none !important;
    text-decoration-line: none;
}

/* minimising the # by the headings */
.anchor {
    font-size: 0.7em;
    font-weight: 300;
    margin-left: -0.2em;
    opacity: 0.9;
}

.anchor:hover {
	filter:brightness(150%) !important;
}

h1 .anchor{
  display:none;
}
/* auto scale images so they don't take up more than a third of the page.
Also adding a light border */
img {
    display: block;
    margin-left: auto;
    margin-right: auto;
    max-height:16em;
    border-radius: var(--border-radius);
    border: 3px solid var(--color-text);
}

/* This clever trick catches the 'caption' under images - formatted in markdown as single emphasis text immediately under the image link. (thank you, random post on StackExchange!) */
article img+em {
    max-width: 85%;
    width: fit-content;
	display: block;
    margin-top: 3px;
	margin-left: auto;
	margin-right: auto;
	padding: 0;
	font-size: 0.8em;
	font-style: italic;
    text-align: center;
    opacity: 0.75;
}

/* Subtitle: automatically selects the first <p> after the title.*/
article h1+p:has(em) {
	text-align:center;
  font-size:1rem;
	font-family:monospace;
	width:100%;
	margin-left:auto;
	margin-right:auto;
	display:block;
	opacity:0.9;
	margin-top:-0.5em;
  margin-bottom:1em;
}
blockquote {
    border-left: 6px solid var(--color-text);
    font-size: 0.9em;
    margin-left: 1em;
    margin-right: 1em;
}

/* Adjusting the header of the landing page */
#blog nav, #blog .text-lg, nav a {
    font-size: 1em !important;
    margin:4px;
    font-weight: 500;
    text-decoration: none;
}

/*Hiding the autogenerated Description text from article pages*/

blockquote.font-italic{
  display:none !important;
  max-height:0px;
}

/*Specifically tweaking the middle link of the link bar (i.e. the cat)*/
nav .text-lg:nth-child(2) {
    padding: 3px;
    padding-left: 7px;
    padding-right: 7px;
}

nav #text{
    color: var(--color-bg);
    size: 1px;
}

.group {
  gap:1em;
}



#post header p, #post .text-lg{
    font-size: var(--font-size-small) !important;
    font-family: monospace;
    margin:4px;
    font-weight: 500;
}

/* Adjusting the date tag at the top of the page */
/* FYI: to manually set the pubdate of a blogpost, add it to the front matter as date:yyyy-mm-dd:
---
date:2001-12-25
draft: true
---
and if you set the date in the future... it won't appear on the blog landing page! very clever.
https://pico.sh/prose
*/
#post header p {
    display: block;
    text-align: center;
    margin-left: auto;
    margin-right: auto;
    font-style: italic;
    color: var(--color-text-secondary);
}

#post header p a {
    font-weight: 600;
    text-decoration: none !important;
}

#post h1 {
    display: block;
    text-align: center;
    margin-left: auto;
    margin-right: auto;
}

.center {
	text-align:center;
	display: block;
	margin-left: auto;
	margin-right:auto;
}

/*h1 .anchor {
    font-size: 1px;
    color: var(--color-bg) !important;
    font-weight: 100;
    vertical-align: middle;
    margin-left: -1px;
}*/

/* attempting to add GFM checkboxes. 
A strike through in a list will automatically make it a check list!
*/
.tick li {
    list-style-type: "☐ ";
}

.tick li:has(del), .tick li:has(s) {
    list-style-type: "☑ ";
}

li del, li s {
    opacity: 0.8;
}

ul:has(li > del) {
    list-style-type: "☐ " !important;
} 

li:has(del)::marker, li:has(s)::marker {
    content: "☑ ";
}

li del::marker, li s::marker {
   content: "☑ " !important;
}

kbd, a > code, .dark-button  {
    font-size:0.9em;
    line-height:2em;
    box-shadow: 0 7px 0 2px rgba(16, 16, 16, 0.959);
    padding-left: 1em;
    padding-right:1em;
    margin: 0.2em;
    font-weight: bold;
    max-width: fit-content;
    border:none;
    border-radius: 6.5px;
    color: whitesmoke !important;
    display: inline-block;
    font-family: sans-serif;
    text-transform: uppercase;
    vertical-align: middle;
    background-color: rgb(47, 47, 47);
    text-decoration: none !important;
    border: 1px solid rgb(44, 44, 44);
}

/* click effect */
a:focus > code {
    box-shadow: 0 1px 0 2px rgba(126, 126, 126, 0.702);
  transform: translateY(6px);}

  
blockquote, pre:has(code.language-quote)  {
    font-family:Georgia, 'Times New Roman', Times, serif;
    color: black;
    width: fit-content;
    max-width:85%;
    margin-left: auto;
    margin-right: auto;
    padding:0.4em;
    border: 3px solid black;
    box-shadow: 8px 7px 7px rgba(0, 0, 0, 0.552);
    background-color: rgb(255, 247, 236);
    border-radius: 0px;
}

.about header p code, .about header p time {
  display:none;
}

p code {
    background: #282c34d2;
    border-radius: 3px;
    padding: 0.1em;
    color:#fff;
    font-family:monospace;
    font-size: 0.9rem;
    white-space:nowrap;
}

a code {
    color:inherit;
    text-decoration: underline solid 3pt;
}
/* CAPTION for QUOTE

By adding a nested quote, a small caption can be positioned at the bottom of the text, for attribution */

blockquote blockquote {
    padding:0px;
    border: none;
    font-style: italic;
    box-shadow: none;
    font-size: 0.7em;
    text-align: right;
    position: relative;
    display: flex;
    margin-right: 1px;
    margin-bottom: 0.2em;
    margin-top: 0.2em;
    padding-bottom: -0px;
    color: rgba(0, 0, 0, 0.705);
    height: fit-content;
    background:transparent;
}


blockquote blockquote p::before {
    content: "~";
    display: inline-block;
    vertical-align: top;
    margin-right: 0.2em;
}

blockquote p {
	margin:0.2em;
}


/* Attempt at github-flavoured callout boxes*/
blockquote:has(a[href^="caution"]), blockquote:has(a[href^="challenge"]){
    font-family: var(--font-family);
    background-color:rgb(252, 225, 225);
    color:black;
    border: none;
    border-left: 10px solid rgb(166, 0, 0);
    border-radius: 0.3em;
    box-shadow: none;
}

blockquote:has(a[href^="caution"])::before{
    content: "! Caution";
    color: rgb(166, 0, 0);
    font-weight:bold;
}
blockquote:has(a[href^="challenge"]){ color: rgb(140, 0, 0); box-shadow: none;}
blockquote:has(a[href^="challenge"]) p::before{
    content: "CHALLENGE: ";
    font-weight:bold;
}


blockquote:has(a[href^="warning"]){
    font-family: var(--font-family);
    background-color:rgb(255, 252, 220);
    color:black;
    border: none;
    border-left: 10px solid rgb(207, 173, 0);
    border-radius: 0.3em;
    box-shadow: none;
}
blockquote:has(a[href^="warning"])::before{
    content: "⚠ Warning";
    color: rgb(207, 173, 0);
    font-weight:bold;
}


blockquote:has(a[href^="note"]){
    font-family: var(--font-family);
    background-color:rgb(208, 238, 255);;
    color:black;
    border: none;
    border-left: 10px solid rgb(0, 116, 178);;
    border-radius: 0.3em;
    box-shadow: none;
}
blockquote:has(a[href^="note"])::before{
    content: "ℹ Note";
    color: rgb(0, 116, 178);
    font-weight:bold;
}


blockquote:has(a[href^="important"]),blockquote:has(a[href^="think"]){
    font-family: var(--font-family);
    background-color:rgb(246, 216, 255);
    color:black;
    border: none;
    border-left: 10px solid rgb(119, 0, 152);
    border-radius: 0.3em;
    box-shadow: none;
}
blockquote:has(a[href^="important"])::before{
    content: "☛ Important";
    color: rgb(119, 0, 152);
    font-weight:bold;
}

blockquote:has(a[href^="think"])::before{
    content: "? Think";
    color: rgb(119, 0, 152);
    font-weight:bold;
}

blockquote:has(a[href^="tip"]){
    font-family: var(--font-family);
    background-color:rgb(225, 255, 233);
    color:black;
    border: none;
    border-left: 10px solid rgb(0, 130, 35);
    border-radius: 0.3em;
    box-shadow: none;
}
blockquote:has(a[href^="tip"])::before{
    content: "✔︎ Tip";
    color: rgb(0, 130, 35);
    font-weight:bold;
}

blockquote:has(a[href^="task"]){
    font-family: var(--font-family);
    background-color: #c3dbf8;
    color: #183150;
    border: none;
    border-left: 10px solid #183150;
    border-radius: 0.3em;
    box-shadow: none;
}
blockquote:has(a[href^="task"]) p::before{
    content: "TASK: ";
    font-weight:bold;
}

a[href^="task"], a[href^="challenge"], a[href^="tip"],a[href^="important"],  a[href^="warning"],a[href^="note"]{
  display:none;
  max-height:0px;
}


 blockquote:has(a[href$="aside"]) {
    width: 25%;
    padding: 0.5em !important;
    margin: 1em !important;
    float: right;
}

img[alt$="aside"]{
	width:25%;
	float:right;
}
